# GUSTAV local environment example (do not commit secrets)

# App environment
GUSTAV_ENV=dev
GUSTAV_TRUST_PROXY=false  # set to true only when running behind a trusted reverse proxy

# Database DSNs (limit privileges for app)
DATABASE_URL=postgresql://gustav_limited:gustav-limited@127.0.0.1:54322/postgres
RLS_TEST_DSN=postgresql://gustav_limited:gustav-limited@127.0.0.1:54322/postgres

# Sessions (optional DB-backed)
# SESSIONS_BACKEND=db
# SESSION_DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# OIDC / Keycloak (dev)
# Prefer KC_BASE_URL; KC_BASE is accepted for backward compatibility.
KC_BASE_URL=http://id.localhost:8100
KC_PUBLIC_BASE_URL=http://id.localhost:8100
KC_REALM=gustav
# App base for browser-facing URLs (reverse proxy maps app.localhost:8100 â†’ web)
WEB_BASE=http://app.localhost:8100
REDIRECT_URI=http://app.localhost:8100/auth/callback

# Supabase Storage (self-hosted)
# Replace with values from `supabase start` output.
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_SERVICE_ROLE_KEY=REPLACE_ME
SUPABASE_STORAGE_BUCKET=materials

# Notes:
# - Keep this file as a template. Create a real `.env` with your secrets.
# - The backend loads `.env` automatically in dev/test.
