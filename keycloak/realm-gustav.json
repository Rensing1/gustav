{
  "realm": "gustav",
  "enabled": true,
  "displayName": "GUSTAV Realm",
  "loginTheme": "gustav",
  "defaultRoles": ["student"],
  "internationalizationEnabled": true,
  "defaultLocale": "de",
  "supportedLocales": ["de", "en"],
  "registrationAllowed": true,
  "registrationEmailAsUsername": true,
  "loginWithEmailAllowed": true,
  "verifyEmail": false,
  "resetPasswordAllowed": true,
  "rememberMe": true,
  "emailTheme": "gustav",
  "passwordPolicy": "length(8) and digits(1) and lowerCase(1) and upperCase(1) and specialChars(1)",
  "duplicateEmailsAllowed": false,
  "smtpServer": {
    "from": "noreply@school.example",
    "fromDisplayName": "GUSTAV-Lernplattform",
    "host": "smtp.school.example",
    "port": "587",
    "auth": "true",
    "starttls": "true",
    "user": "gustav-smtp-user"
  },
  "attributes": {
    "userProfileEnabled": "true"
  },
  "components": {
    "org.keycloak.userprofile.UserProfileProvider": [
      {
        "name": "declarative-user-profile",
        "providerId": "declarative-user-profile",
        "subType": "realm",
        "subComponents": {},
        "config": {
          "kc.user.profile.config": [
            "{\"attributes\": [{\"name\": \"username\", \"displayName\": \"${username}\", \"permissions\": {\"view\": [\"admin\"], \"edit\": [\"admin\"]}, \"annotations\": {\"kc.hidden\": \"true\"}}, {\"name\": \"email\", \"displayName\": \"${email}\", \"permissions\": {\"view\": [\"user\", \"admin\"], \"edit\": [\"user\", \"admin\"]}, \"validations\": {\"email\": {\"ignoreEmptyValue\": false}}, \"required\": {\"roles\": [\"user\"]}}, {\"name\": \"display_name\", \"displayName\": \"Anzeigename\", \"permissions\": {\"view\": [\"user\", \"admin\"], \"edit\": [\"user\", \"admin\"]}, \"required\": {\"roles\": [\"user\"]}, \"validations\": {\"length\": {\"max\": 80}}}, {\"name\": \"firstName\", \"permissions\": {\"view\": [\"admin\"], \"edit\": [\"admin\"]}, \"annotations\": {\"kc.hidden\": \"true\"}}, {\"name\": \"lastName\", \"permissions\": {\"view\": [\"admin\"], \"edit\": [\"admin\"]}, \"annotations\": {\"kc.hidden\": \"true\"}}]}"
          ]
        }
      }
    ]
  },
  "roles": {
    "realm": [
      { "name": "student", "description": "Student role" },
      { "name": "teacher", "description": "Teacher role" },
      { "name": "admin", "description": "Admin role" }
    ]
  },
  "clients": [
    {
      "clientId": "gustav-web",
      "name": "GUSTAV Web",
      "protocol": "openid-connect",
      "publicClient": true,
      "standardFlowEnabled": true,
      "directAccessGrantsEnabled": false,
      "implicitFlowEnabled": false,
      "serviceAccountsEnabled": false,
  "protocolMappers": [
    {
      "name": "Display Name (gustav_display_name)",
      "protocol": "openid-connect",
      "protocolMapper": "oidc-usermodel-attribute-mapper",
      "consentRequired": false,
      "config": {
        "user.attribute": "display_name",
        "claim.name": "gustav_display_name",
        "jsonType.label": "String",
        "id.token.claim": "true",
        "access.token.claim": "true",
        "userinfo.token.claim": "true"
      }
    },
    {
      "name": "Realm Roles (ID token)",
      "protocol": "openid-connect",
      "protocolMapper": "oidc-usermodel-realm-role-mapper",
      "consentRequired": false,
      "config": {
        "multivalued": "true",
        "claim.name": "realm_access.roles",
        "jsonType.label": "String",
        "id.token.claim": "true",
        "access.token.claim": "true",
        "userinfo.token.claim": "false",
        "introspection.token.claim": "true"
      }
    }
  ],
      "redirectUris": [
        "https://localhost/*",
        "https://app.localhost/*"
      ],
      "webOrigins": [
        "https://gustav-lernplattform.de",
        "https://localhost/*",
        "https://app.localhost/*"
      ],
      "attributes": {
        "pkce.code.challenge.method": "S256"
      }
    }
  ],
  "requiredActions": [
    {
      "alias": "VERIFY_PROFILE",
      "name": "Update Profile",
      "providerId": "VERIFY_PROFILE",
      "enabled": false,
      "defaultAction": false,
      "priority": 50,
      "config": {}
    }
  ]
}
