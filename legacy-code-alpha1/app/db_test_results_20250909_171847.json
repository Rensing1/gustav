{
  "test_run": "20250909_171847",
  "summary": {
    "total": 53,
    "passed": 39,
    "failed": 14,
    "success_rate": 73.58490566037736,
    "by_page": {
      "core/auth": {
        "pass": 2,
        "fail": 0,
        "functions": [
          "get_users_by_role",
          "is_teacher_authorized_for_course"
        ]
      },
      "core/session": {
        "pass": 1,
        "fail": 0,
        "functions": [
          "get_session_id"
        ]
      },
      "1_Kurse.py": {
        "pass": 4,
        "fail": 0,
        "functions": [
          "get_courses_by_creator",
          "get_course_by_id",
          "update_course",
          "get_course_students"
        ]
      },
      "2_Lerneinheiten.py": {
        "pass": 4,
        "fail": 0,
        "functions": [
          "get_learning_units_by_creator",
          "get_learning_unit_by_id",
          "get_assigned_units_for_course",
          "update_learning_unit"
        ]
      },
      "5_Schueler.py": {
        "pass": 4,
        "fail": 0,
        "functions": [
          "get_students_in_course",
          "get_teachers_in_course",
          "remove_user_from_course",
          "add_user_to_course"
        ]
      },
      "6_Live-Unterricht.py": {
        "pass": 6,
        "fail": 2,
        "functions": [
          "get_sections_for_unit",
          "get_section_statuses_for_unit_in_course",
          "unpublish_section_for_course",
          "publish_section_for_course",
          "get_submission_status_matrix",
          "get_task_details",
          "get_submission_for_task",
          "update_submission_teacher_override"
        ]
      },
      "3_Meine_Aufgaben.py": {
        "pass": 4,
        "fail": 1,
        "functions": [
          "get_published_section_details_for_student",
          "get_remaining_attempts",
          "create_submission",
          "get_submission_by_id",
          "get_submission_history"
        ]
      },
      "7_Wissensfestiger.py": {
        "pass": 3,
        "fail": 1,
        "functions": [
          "get_user_course_ids",
          "get_next_mastery_task_or_unviewed_feedback",
          "create_submission (mastery)",
          "mark_feedback_as_viewed_safe"
        ]
      },
      "9_Feedback_einsehen.py": {
        "pass": 1,
        "fail": 0,
        "functions": [
          "get_all_feedback"
        ]
      },
      "8_Feedback.py": {
        "pass": 0,
        "fail": 1,
        "functions": [
          "submit_feedback"
        ]
      },
      "intern": {
        "pass": 7,
        "fail": 1,
        "functions": [
          "get_tasks_for_section",
          "get_regular_tasks_for_section",
          "get_mastery_tasks_for_section",
          "create_task_in_new_structure",
          "move_task_down",
          "move_task_up",
          "get_section_tasks",
          "update_task_in_new_structure"
        ]
      },
      "enrollment": {
        "pass": 1,
        "fail": 1,
        "functions": [
          "get_student_courses",
          "get_courses_assigned_to_unit"
        ]
      },
      "progress": {
        "pass": 1,
        "fail": 2,
        "functions": [
          "get_submissions_for_course_and_unit",
          "calculate_learning_streak",
          "update_submission_ai_results"
        ]
      },
      "mastery": {
        "pass": 1,
        "fail": 5,
        "functions": [
          "get_mastery_tasks_for_course",
          "get_next_due_mastery_task",
          "submit_mastery_answer",
          "save_mastery_submission",
          "get_mastery_stats_for_student",
          "get_mastery_overview_for_teacher"
        ]
      }
    }
  },
  "configuration": {
    "ai_timeout": 30,
    "verbose_logging": true,
    "real_sessions": true
  },
  "results": [
    {
      "function": "get_users_by_role",
      "ui_page": "core/auth",
      "result": "PASS",
      "error": null,
      "details": "Found 2 teachers, test teacher included: True",
      "timestamp": "2025-09-09T17:17:44.600788"
    },
    {
      "function": "is_teacher_authorized_for_course",
      "ui_page": "core/auth",
      "result": "PASS",
      "error": null,
      "details": "Teacher authorized: True",
      "timestamp": "2025-09-09T17:17:44.608647"
    },
    {
      "function": "get_session_id",
      "ui_page": "core/session",
      "result": "PASS",
      "error": null,
      "details": "Session ID: test_7513b2e7-88...",
      "timestamp": "2025-09-09T17:17:44.608699"
    },
    {
      "function": "get_courses_by_creator",
      "ui_page": "1_Kurse.py",
      "result": "PASS",
      "error": null,
      "details": "Found 19 courses, 19 test courses",
      "timestamp": "2025-09-09T17:17:44.620822"
    },
    {
      "function": "get_course_by_id",
      "ui_page": "1_Kurse.py",
      "result": "PASS",
      "error": null,
      "details": "Got course: \ud83e\uddea TEST Kurs 20250909_171744",
      "timestamp": "2025-09-09T17:17:44.629572"
    },
    {
      "function": "update_course",
      "ui_page": "1_Kurse.py",
      "result": "PASS",
      "error": null,
      "details": "Updated name to: \ud83e\uddea TEST Kurs 20250909_171744 - Updated",
      "timestamp": "2025-09-09T17:17:44.638271"
    },
    {
      "function": "get_course_students",
      "ui_page": "1_Kurse.py",
      "result": "PASS",
      "error": null,
      "details": "Found 1 students",
      "timestamp": "2025-09-09T17:17:44.646806"
    },
    {
      "function": "get_learning_units_by_creator",
      "ui_page": "2_Lerneinheiten.py",
      "result": "PASS",
      "error": null,
      "details": "Found 40 units, 40 test units",
      "timestamp": "2025-09-09T17:17:44.659914"
    },
    {
      "function": "get_learning_unit_by_id",
      "ui_page": "2_Lerneinheiten.py",
      "result": "PASS",
      "error": null,
      "details": "Got unit: \ud83e\uddea TEST Lerneinheit 171744",
      "timestamp": "2025-09-09T17:17:44.669349"
    },
    {
      "function": "get_assigned_units_for_course",
      "ui_page": "2_Lerneinheiten.py",
      "result": "PASS",
      "error": null,
      "details": "Found 1 assigned units",
      "timestamp": "2025-09-09T17:17:44.677738"
    },
    {
      "function": "update_learning_unit",
      "ui_page": "2_Lerneinheiten.py",
      "result": "PASS",
      "error": null,
      "details": "Updated title to: \ud83e\uddea TEST Lerneinheit 171744 - Updated",
      "timestamp": "2025-09-09T17:17:44.686228"
    },
    {
      "function": "get_students_in_course",
      "ui_page": "5_Schueler.py",
      "result": "PASS",
      "error": null,
      "details": "Found 1 students, test student included: True",
      "timestamp": "2025-09-09T17:17:44.698864"
    },
    {
      "function": "get_teachers_in_course",
      "ui_page": "5_Schueler.py",
      "result": "PASS",
      "error": null,
      "details": "Found 1 teachers, test teacher included: False",
      "timestamp": "2025-09-09T17:17:44.707131"
    },
    {
      "function": "remove_user_from_course",
      "ui_page": "5_Schueler.py",
      "result": "PASS",
      "error": null,
      "details": "Removed student from course",
      "timestamp": "2025-09-09T17:17:44.715835"
    },
    {
      "function": "add_user_to_course",
      "ui_page": "5_Schueler.py",
      "result": "PASS",
      "error": null,
      "details": "Re-added student to course",
      "timestamp": "2025-09-09T17:17:44.724573"
    },
    {
      "function": "get_sections_for_unit",
      "ui_page": "6_Live-Unterricht.py",
      "result": "PASS",
      "error": null,
      "details": "Found 1 sections",
      "timestamp": "2025-09-09T17:17:44.736771"
    },
    {
      "function": "get_section_statuses_for_unit_in_course",
      "ui_page": "6_Live-Unterricht.py",
      "result": "PASS",
      "error": null,
      "details": "Status type: <class 'dict'>, published sections: 1",
      "timestamp": "2025-09-09T17:17:44.745191"
    },
    {
      "function": "unpublish_section_for_course",
      "ui_page": "6_Live-Unterricht.py",
      "result": "PASS",
      "error": null,
      "details": "Section unpublished",
      "timestamp": "2025-09-09T17:17:44.753628"
    },
    {
      "function": "publish_section_for_course",
      "ui_page": "6_Live-Unterricht.py",
      "result": "PASS",
      "error": null,
      "details": "Section re-published",
      "timestamp": "2025-09-09T17:17:44.762324"
    },
    {
      "function": "get_submission_status_matrix",
      "ui_page": "6_Live-Unterricht.py",
      "result": "FAIL",
      "error": "Fehler: 'student_id'",
      "details": null,
      "timestamp": "2025-09-09T17:17:44.774056"
    },
    {
      "function": "get_task_details",
      "ui_page": "6_Live-Unterricht.py",
      "result": "PASS",
      "error": null,
      "details": "Got task: None, type: None",
      "timestamp": "2025-09-09T17:17:44.782065"
    },
    {
      "function": "get_published_section_details_for_student",
      "ui_page": "3_Meine_Aufgaben.py",
      "result": "FAIL",
      "error": "Fehler: {'message': 'function max(uuid) does not exist', 'code': '42883', 'hint': 'No function matches the given name and argument types. You might need to add explicit type casts.', 'details': None}",
      "details": null,
      "timestamp": "2025-09-09T17:17:44.790774"
    },
    {
      "function": "get_remaining_attempts",
      "ui_page": "3_Meine_Aufgaben.py",
      "result": "PASS",
      "error": null,
      "details": "Remaining: [{'remaining_attempts': 3, 'max_attempts': 3}], Max: 3",
      "timestamp": "2025-09-09T17:17:44.816660"
    },
    {
      "function": "create_submission",
      "ui_page": "3_Meine_Aufgaben.py",
      "result": "PASS",
      "error": null,
      "details": "Created submission: 57066fd8-e312-42a7-a61b-c96f4248c180",
      "timestamp": "2025-09-09T17:17:44.839278"
    },
    {
      "function": "get_submission_by_id",
      "ui_page": "3_Meine_Aufgaben.py",
      "result": "PASS",
      "error": null,
      "details": "Got submission, is_processing: None",
      "timestamp": "2025-09-09T17:18:15.256569"
    },
    {
      "function": "get_submission_history",
      "ui_page": "3_Meine_Aufgaben.py",
      "result": "PASS",
      "error": null,
      "details": "Found 1 submissions in history",
      "timestamp": "2025-09-09T17:18:15.271166"
    },
    {
      "function": "get_submission_for_task",
      "ui_page": "6_Live-Unterricht.py",
      "result": "PASS",
      "error": null,
      "details": "Got submission: 57066fd8-e312-42a7-a61b-c96f4248c180",
      "timestamp": "2025-09-09T17:18:15.281280"
    },
    {
      "function": "update_submission_teacher_override",
      "ui_page": "6_Live-Unterricht.py",
      "result": "FAIL",
      "error": "Fehler beim Aktualisieren der Lehrer-Bewertung: {'message': 'column sec.learning_unit_id does not exist', 'code': '42703', 'hint': None, 'details': None}",
      "details": null,
      "timestamp": "2025-09-09T17:18:15.291223"
    },
    {
      "function": "get_user_course_ids",
      "ui_page": "7_Wissensfestiger.py",
      "result": "PASS",
      "error": null,
      "details": "Found 20 course IDs, test course included: False",
      "timestamp": "2025-09-09T17:18:15.300993"
    },
    {
      "function": "get_next_mastery_task_or_unviewed_feedback",
      "ui_page": "7_Wissensfestiger.py",
      "result": "FAIL",
      "error": "Fehler beim Abrufen der n\u00e4chsten Aufgabe: {'message': 'column s.learning_unit_id does not exist', 'code': '42703', 'hint': None, 'details': None}",
      "details": null,
      "timestamp": "2025-09-09T17:18:15.329193"
    },
    {
      "function": "create_submission (mastery)",
      "ui_page": "7_Wissensfestiger.py",
      "result": "PASS",
      "error": null,
      "details": "Created mastery submission: 3a5d5aa5-7647-492f-a12d-2fbde0ef68dd",
      "timestamp": "2025-09-09T17:18:15.356875"
    },
    {
      "function": "mark_feedback_as_viewed_safe",
      "ui_page": "7_Wissensfestiger.py",
      "result": "PASS",
      "error": null,
      "details": "Marked feedback as viewed",
      "timestamp": "2025-09-09T17:18:45.773275"
    },
    {
      "function": "get_all_feedback",
      "ui_page": "9_Feedback_einsehen.py",
      "result": "PASS",
      "error": null,
      "details": "Found 19 feedback entries",
      "timestamp": "2025-09-09T17:18:45.788157"
    },
    {
      "function": "submit_feedback",
      "ui_page": "8_Feedback.py",
      "result": "FAIL",
      "error": "Submit feedback returned False",
      "details": null,
      "timestamp": "2025-09-09T17:18:45.798656"
    },
    {
      "function": "get_tasks_for_section",
      "ui_page": "intern",
      "result": "PASS",
      "error": null,
      "details": "Found 2 tasks",
      "timestamp": "2025-09-09T17:18:45.810361"
    },
    {
      "function": "get_regular_tasks_for_section",
      "ui_page": "intern",
      "result": "PASS",
      "error": null,
      "details": "Found 1 regular tasks",
      "timestamp": "2025-09-09T17:18:45.820422"
    },
    {
      "function": "get_mastery_tasks_for_section",
      "ui_page": "intern",
      "result": "PASS",
      "error": null,
      "details": "Found 1 mastery tasks",
      "timestamp": "2025-09-09T17:18:45.834778"
    },
    {
      "function": "create_task_in_new_structure",
      "ui_page": "intern",
      "result": "PASS",
      "error": null,
      "details": "Created task via router: ce6d6107-533e-4595-9dce-8819056ab941",
      "timestamp": "2025-09-09T17:18:45.845192"
    },
    {
      "function": "move_task_down",
      "ui_page": "intern",
      "result": "PASS",
      "error": null,
      "details": "Task moved down",
      "timestamp": "2025-09-09T17:18:45.855065"
    },
    {
      "function": "move_task_up",
      "ui_page": "intern",
      "result": "PASS",
      "error": null,
      "details": "Task moved up",
      "timestamp": "2025-09-09T17:18:45.864845"
    },
    {
      "function": "get_section_tasks",
      "ui_page": "intern",
      "result": "PASS",
      "error": null,
      "details": "Found 3 task items",
      "timestamp": "2025-09-09T17:18:45.879650"
    },
    {
      "function": "update_task_in_new_structure",
      "ui_page": "intern",
      "result": "FAIL",
      "error": "'title'",
      "details": null,
      "timestamp": "2025-09-09T17:18:45.879717"
    },
    {
      "function": "get_student_courses",
      "ui_page": "enrollment",
      "result": "FAIL",
      "error": "Fehler beim Abrufen der Kurse: '<' not supported between instances of 'NoneType' and 'NoneType'",
      "details": null,
      "timestamp": "2025-09-09T17:18:45.890351"
    },
    {
      "function": "get_courses_assigned_to_unit",
      "ui_page": "enrollment",
      "result": "PASS",
      "error": null,
      "details": "Found 1 courses using this unit",
      "timestamp": "2025-09-09T17:18:45.900237"
    },
    {
      "function": "get_submissions_for_course_and_unit",
      "ui_page": "progress",
      "result": "PASS",
      "error": null,
      "details": "Found 2 submissions",
      "timestamp": "2025-09-09T17:18:45.910553"
    },
    {
      "function": "calculate_learning_streak",
      "ui_page": "progress",
      "result": "FAIL",
      "error": "cannot unpack non-iterable int object",
      "details": null,
      "timestamp": "2025-09-09T17:18:45.960681"
    },
    {
      "function": "update_submission_ai_results",
      "ui_page": "progress",
      "result": "FAIL",
      "error": "Python Fehler beim Aktualisieren der AI-Ergebnisse f\u00fcr Submission 57066fd8-e312-42a7-a61b-c96f4248c180: {'message': 'column \"ai_feedback_generated_at\" of relation \"submission\" does not exist', 'code': '42703', 'hint': None, 'details': None}",
      "details": null,
      "timestamp": "2025-09-09T17:18:45.971207"
    },
    {
      "function": "get_mastery_tasks_for_course",
      "ui_page": "mastery",
      "result": "FAIL",
      "error": "Fehler beim Abrufen der Mastery-Aufgaben: 'task_title'",
      "details": null,
      "timestamp": "2025-09-09T17:18:45.983630"
    },
    {
      "function": "get_next_due_mastery_task",
      "ui_page": "mastery",
      "result": "FAIL",
      "error": "Fehler beim Abrufen der n\u00e4chsten Aufgabe: {'message': 'column s.learning_unit_id does not exist', 'code': '42703', 'hint': None, 'details': None}",
      "details": null,
      "timestamp": "2025-09-09T17:18:45.993675"
    },
    {
      "function": "submit_mastery_answer",
      "ui_page": "mastery",
      "result": "FAIL",
      "error": "Fehler bei der Verarbeitung der Antwort: 'NoneType' object is not iterable",
      "details": null,
      "timestamp": "2025-09-09T17:18:47.153071"
    },
    {
      "function": "save_mastery_submission",
      "ui_page": "mastery",
      "result": "FAIL",
      "error": "Unerwarteter Fehler beim Speichern der Antwort: {'message': 'null value in column \"korrektheit\" of relation \"mastery_submission\" violates not-null constraint', 'code': '23502', 'hint': None, 'details': None}",
      "details": null,
      "timestamp": "2025-09-09T17:18:47.168282"
    },
    {
      "function": "get_mastery_stats_for_student",
      "ui_page": "mastery",
      "result": "FAIL",
      "error": "Fehler beim Abrufen der Mastery-Aufgaben: 'task_title'",
      "details": null,
      "timestamp": "2025-09-09T17:18:47.177954"
    },
    {
      "function": "get_mastery_overview_for_teacher",
      "ui_page": "mastery",
      "result": "PASS",
      "error": null,
      "details": "Overview for 0 students",
      "timestamp": "2025-09-09T17:18:47.229132"
    }
  ]
}